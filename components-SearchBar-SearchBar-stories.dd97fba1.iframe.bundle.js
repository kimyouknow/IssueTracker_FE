"use strict";(self.webpackChunkissue_tracker_fe=self.webpackChunkissue_tracker_fe||[]).push([[766],{"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_slicedToArray});var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||(0,unsupportedIterableToArray.Z)(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./src/components/SearchBar/SearchBar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>SearchBar_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),DropDown=__webpack_require__("./src/components/common/DropDown/index.tsx"),Icon=__webpack_require__("./src/components/common/Icon/index.tsx"),es=__webpack_require__("./node_modules/recoil/es/index.js"),filterOptionAtom=(0,es.cn)({key:"filterOptionAtom",default:{isOpen:!0,author:[],label:[],milestone:[],assign:[]}}),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var textSearchOptionSelector=(0,es.nZ)({key:"textSearchOption",get:function get(_ref){return function getEntries(obj){return Object.entries(obj)}((0,_ref.get)(filterOptionAtom)).reduce((function(acc,cur){var _cur=(0,slicedToArray.Z)(cur,2),key=_cur[0],value=_cur[1];return"boolean"==typeof value?acc+" is:".concat(value?"open":"close"):acc+=value.map((function(v){return" ".concat(key,":").concat(v)})).join("")}),"")},set:function set(_ref2,newValue){var get=_ref2.get,_set=_ref2.set,filterOptions=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},get(filterOptionAtom));if("string"==typeof newValue&&""!==newValue){var _step,_iterator=_createForOfIteratorHelper(newValue.trim().split(" "));try{for(_iterator.s();!(_step=_iterator.n()).done;){var _token$split=_step.value.split(":"),_token$split2=(0,slicedToArray.Z)(_token$split,2),key=_token$split2[0],value=_token$split2[1];if(void 0!==value&&""!==value)if("is"!==key){if(key in filterOptions){var prev=(0,toConsumableArray.Z)(filterOptions[key]);filterOptions[key]=(0,toConsumableArray.Z)(new Set([].concat((0,toConsumableArray.Z)(prev),[value])))}}else"open"===value?filterOptions.isOpen=!0:"close"===value&&(filterOptions.isOpen=!1)}}catch(err){_iterator.e(err)}finally{_iterator.f()}_set(filterOptionAtom,filterOptions)}}});const search_useSearchFilter=function useSearchFilter(){var filterOptionReadOnly=(0,es.sJ)(filterOptionAtom),textFilterOptionReadOnly=(0,es.sJ)(textSearchOptionSelector),_parseTextToOption=(0,es.Zl)(textSearchOptionSelector);return{filterOptionReadOnly,textFilterOptionReadOnly,updateTextToFilterOption:function updateTextToFilterOption(text){_parseTextToOption(text)},updateFilterOption:function updateFilterOption(){console.log("updateFilterOption")}}};var emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");var Container=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e19cvhle3"})("display:flex;flex-direction:row;align-items:flex-start;padding:0px;width:601px;height:42px;color:",(function(_ref){return _ref.theme.colors.grayScale.placeHoler}),";border:1px solid ",(function(_ref2){return _ref2.theme.colors.grayScale.line}),";border-radius:11px;:hover{border-color:",(function(_ref3){return _ref3.theme.colors.grayScale.line}),";}:has(input:active),:has(input:focus){border-color:",(function(_ref4){return _ref4.theme.colors.grayScale.titleActive}),";background-color:",(function(_ref5){return _ref5.theme.colors.grayScale.white}),";svg{color:",(function(_ref6){return _ref6.theme.colors.grayScale.titleActive}),";}}"),FilterSection=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e19cvhle2"})("display:flex;flex-direction:row;justify-content:center;align-items:center;gap:8px;width:128px;height:40px;color:",(function(_ref7){return _ref7.theme.colors.grayScale.titleActive}),";background-color:",(function(_ref8){return _ref8.theme.colors.grayScale.background}),";border-radius:11px 0px 0px 11px;border-right:1px solid ",(function(_ref9){return _ref9.theme.colors.grayScale.line}),";:hover{background-color:",(function(_ref10){return _ref10.theme.colors.grayScale.line}),";}"),InputSection=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e19cvhle1"})("display:flex;flex-direction:row;justify-content:center;align-items:center;padding:12px 24px;gap:8px;width:472px;height:40px;background-color:",(function(_ref11){return _ref11.theme.colors.grayScale.inputBackground}),";border-radius:0px 11px 11px 0px;"),Input=(0,emotion_styled_base_browser_esm.Z)("input",{target:"e19cvhle0"})({name:"1d3w5wq",styles:"width:100%"}),__jsx=react.createElement,SEARCH_FILTER_OPTION=[{id:"openIssue",label:"열린 이슈",value:"is:open"},{id:"closeIssue",label:"닫힌 이슈",value:"is:close"},{id:"authorMe",label:"내가 작성한 이슈",value:"author:login_nickname"},{id:"AssignMe",label:"나에게 할당된 이슈",value:"assign:login_nickname"}],SearchBar=function SearchBar(_ref){var _ref$initValue=_ref.initValue,initValue=void 0===_ref$initValue?"":_ref$initValue,_useSearchFilter=search_useSearchFilter(),textFilterOptionReadOnly=_useSearchFilter.textFilterOptionReadOnly,updateTextToFilterOption=_useSearchFilter.updateTextToFilterOption,_useState=(0,react.useState)(initValue),inputValue=_useState[0],setInputValue=_useState[1],_useState2=(0,react.useState)([]),filterValue=_useState2[0],setFilterValue=_useState2[1],handleChangeTextToFilterOption=function useDebounce(delay,callback){var timeoutRef=(0,react.useRef)();return(0,react.useEffect)((function(){return function(){clearTimeout(timeoutRef.current)}}),[]),function(){for(var _this=this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];clearTimeout(timeoutRef.current),timeoutRef.current=setTimeout((function(){return callback.apply(_this,args)}),delay)}}(500,(function(value){updateTextToFilterOption(value)}));return(0,react.useEffect)((function(){setInputValue(textFilterOptionReadOnly)}),[textFilterOptionReadOnly]),__jsx(Container,null,__jsx(FilterSection,null,__jsx(DropDown.Z,{id:"searchBarFilter",label:"필터",value:filterValue,options:SEARCH_FILTER_OPTION,onChange:function handleClickFilterOption(event){var value=event.target.value;setFilterValue(value),updateTextToFilterOption(value.map((function(v){return v.value})).join(" "))}})),__jsx(InputSection,null,__jsx(Icon.Z,{type:"search"}),__jsx(Input,{placeholder:"Search all issues",value:inputValue,onChange:function onChangeHandler(event){var _value=event.currentTarget.value;setInputValue(_value),handleChangeTextToFilterOption(_value)}})))};const components_SearchBar=SearchBar;try{SearchBar.displayName="SearchBar",SearchBar.__docgenInfo={description:"",displayName:"SearchBar",props:{initValue:{defaultValue:{value:""},description:"",name:"initValue",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SearchBar/index.tsx#SearchBar"]={docgenInfo:SearchBar.__docgenInfo,name:"SearchBar",path:"src/components/SearchBar/index.tsx#SearchBar"})}catch(__react_docgen_typescript_loader_error){}var _Default$parameters,_Default$parameters2,_Default$parameters2$,SearchBar_stories_jsx=react.createElement;function SearchBar_stories_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SearchBar_stories_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SearchBar_stories_ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SearchBar_stories_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const SearchBar_stories={title:"domain/SearchBar",component:components_SearchBar,args:{}};var Default=function Template(args){return SearchBar_stories_jsx(components_SearchBar,args)}.bind({});Default.args={},Default.parameters=SearchBar_stories_objectSpread(SearchBar_stories_objectSpread({},Default.parameters),{},{docs:SearchBar_stories_objectSpread(SearchBar_stories_objectSpread({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:SearchBar_stories_objectSpread({originalSource:"args => <SearchBar {...args} />"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})})}}]);